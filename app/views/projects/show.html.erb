<% if !flash[:notice].blank? %>
	<div class="notice">
		<%= flash[:notice] %>
	</div>
<% end %>


<div class='project show'>

	<section class="show-container">
		<article class="info-card">
			<h2><%= @project.name %></h2>

			<table summary="subject detail view">
				<tr>
					<th align="left">Project:</th>
					<td><%= @project.project_number %></td>
				</tr>
				<tr>
					<th align="left">Address:</th>
					<td><%= @project.address %></td>
				</tr>
				<tr>
					<th align="left">City:</th>
					<td><%= @project.city %></td>
				</tr>
				<tr>
				<tr>
					<th align="left">State:</th>
					<td><%= @project.state %></td>
				</tr>
				<tr>
				<tr>
					<th align="left">County:</th>
					<td><%= @project.county %></td>
				</tr>
				<tr>
					<th align="left">Coordinates:</th>
					<td id="coords"><%= @project.latitude %>, <%= @project.longitude %></td>
				</tr>
				<tr>
					<th align="left">Elevation:</th>
					<td><%= @project.elevation %> feet</td>
				</tr>

			</table>
		</article>

		<article class="map-card">
			<div class="map">
					<%#= image_tag "https://maps.googleapis.com/maps/api/staticmap?zoom=17&size=400x300&
					center=#{@project.latitude},#{@project.longitude}&
					key=#{Rails.application.credentials.google_maps_api_key}&
					markers=size:small%7Ccolor:red%7C#{@project.latitude},#{@project.longitude}",
					alt: "Map" %>
			</div>
		</article>


	</section>



</div>

<%= link_to "Back", projects_path, :class => 'back_link' %> |
<%= link_to "Edit", edit_project_path(params[:id]), :class => 'edit_link'  %> |
<%= link_to "Home", root_path, :class => 'home_link'  %> |
<%= link_to "Delete", delete_project_path(@project), :class => 'delete_link'  %>


<script>
	  // var coords = (document.getElementById("coords").innerHTML).split(",");
	  // var latitude = coords[0];
	  // var longitude = coords[1];

	  function initMap() {
  		// The location of Uluru
  		var uluru = {lat: -25.344, lng: 131.036};
  		// The map, centered at Uluru
  		var map = new google.maps.Map(
      document.getElementById('map'), {zoom: 4, center: uluru});
		}

</script>

    <script async defer
    src="https://maps.googleapis.com/maps/api/js?key=AIzaSyAeKNhV01zZM30gvZIKivEY47cFTzjLmlA&callback=initMap">
    </script>


















